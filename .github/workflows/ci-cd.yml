name: CI/CD Pipeline\n\non:\n  push:\n    branches: [ main, master ]\n  pull_request:\n    branches: [ main, master ]\n\nenv:\n  FIREBASE_PROJECT_ID: vibe-tracker-98ca59\n\njobs:\n  # Ê∏¨Ë©¶ÈöéÊÆµ\n  test:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout code\n      uses: actions/checkout@v4\n    \n    - name: Setup Node.js\n      uses: actions/setup-node@v4\n      with:\n        node-version: '18'\n    \n    - name: Install dependencies\n      run: |\n        cd functions\n        npm ci\n    \n    - name: Run tests (if any)\n      run: |\n        cd functions\n        npm test --if-present\n  \n  # ÈÉ®ÁΩ≤ÈöéÊÆµ\n  deploy:\n    needs: test\n    runs-on: ubuntu-latest\n    if: github.ref == 'refs/heads/main' || github.ref == 'refs/heads/master'\n    \n    steps:\n    - name: Checkout code\n      uses: actions/checkout@v4\n    \n    - name: Setup Node.js\n      uses: actions/setup-node@v4\n      with:\n        node-version: '18'\n        cache: 'npm'\n        cache-dependency-path: functions/package-lock.json\n    \n    - name: Install Functions dependencies\n      run: |\n        cd functions\n        npm ci\n    \n    - name: Deploy Functions\n      uses: w9jds/firebase-action@master\n      with:\n        args: deploy --only functions\n      env:\n        FIREBASE_TOKEN: ${{ secrets.FIREBASE_TOKEN }}\n        PROJECT_ID: ${{ env.FIREBASE_PROJECT_ID }}\n    \n    - name: Deploy Hosting\n      uses: FirebaseExtended/action-hosting-deploy@v0\n      with:\n        repoToken: '${{ secrets.GITHUB_TOKEN }}'\n        firebaseServiceAccount: '${{ secrets.FIREBASE_SERVICE_ACCOUNT_VIBE_TRACKER_98CA59 }}'\n        projectId: ${{ env.FIREBASE_PROJECT_ID }}\n        channelId: live\n      env:\n        FIREBASE_CLI_EXPERIMENTS: webframeworks\n    \n    - name: Deployment Success Notification\n      if: success()\n      run: |\n        echo \"üéâ ÈÉ®ÁΩ≤ÊàêÂäüÔºÅ\"\n        echo \"Á∂≤ÂùÄ: https://${{ env.FIREBASE_PROJECT_ID }}.web.app\"\n        echo \"Functions: https://us-central1-${{ env.FIREBASE_PROJECT_ID }}.cloudfunctions.net/api\"